var AestheticUI=function(){this.titles=document.getElementsByClassName("title");this.shrinkExpandWindowBound=this.shrinkExpandWindow.bind(this);for(var a=0;a<this.titles.length;a++)this.titles[a].addEventListener("click",this.shrinkExpandWindowBound);this.tabBars=document.getElementsByClassName("tab-bar");this.switchTabsBound=this.switchTabs.bind(this);for(a=0;a<this.tabBars.length;a++)this.tabBars[a].addEventListener("click",this.switchTabsBound);this.input=document.getElementsByClassName("tab-content");
this.changeInputBound=this.changeInput.bind(this);this.changeSelectBound=this.changeSelect.bind(this);for(a=0;a<this.input.length;a++)this.input[a].addEventListener("input",this.changeInputBound),this.input[a].addEventListener("change",this.changeSelectBound);this.checkURLBound=this.checkURL.bind(this);window.onpopstate=this.checkURLBound;this.handlePlayPauseButtonBound=this.handlePlayPauseButton.bind(this);document.getElementById("playPause").addEventListener("click",this.handlePlayPauseButtonBound);
document.getElementById("saveImage").addEventListener("click",function(){var a=grid.saveImage();window.open("app/save-image.htm#"+a)});this.handleResetBound=this.handleReset.bind(this);document.getElementById("reset").addEventListener("click",this.handleResetBound);this.randomPresetBound=this.randomPreset.bind(this);document.getElementById("randomize").addEventListener("click",this.randomPresetBound);document.getElementById("text").addEventListener("keypress",function(a){13===a.keyCode&&a.target.blur()});
this.listOfProperties=[["g",[document.getElementById("gridSize"),document.getElementById("gridThickness"),document.getElementById("gridColor"),document.getElementById("useCirclesInstead")]],["d",[document.getElementById("radius"),document.getElementById("numberOfPoints"),document.getElementById("speed"),document.getElementById("resetGridStrength")]],["t",[document.getElementById("fontSize"),document.getElementById("lineHeight"),document.getElementById("shadowOffset"),document.getElementById("textColor"),
document.getElementById("shadowColor")]],["b",[document.getElementById("backgroundColor"),document.getElementById("animateBackgroundHue"),document.getElementById("hueLowestValue"),document.getElementById("hueHighestValue"),document.getElementById("hueSpeed")]],["m",[document.getElementById("text")]]];this.presets="1g24a0.5aBaFd4a100a110a1.5t24a1a1aWaBbGDFBFFFaFa80a208a2mVague.8230. 1g24a4aGFFFF80aTd16a12a200a0.5t120a1a4aWaGFFFF80bG006AD5aFa73a133a2m.9786. 1g24a2aGC8E1DEaFd16a40a136a1.8t146a2a10aGDDFDFFaGA0B8ADbWaFa80a208a2m.9835..9834..9835..9834..9835. 1g12a1aGFF00FFaFd4a100a300a0t76a1a5aWaGFF00FFbGFFBFFFaFa80a208a2mK.46. 1g38a4aGFF8000aTd9a63a285a1.2t125a1a0aGFF8000aBbBaFa73a133a2mBoo! 1g60a9aWaTd5a50a155a1.2t125a1a0aWaWbBaTa64a214a2mDaft.46. 1g78a18aGDFEC46aTd16a5a180a0.9t59a1.5a6aGDFEC46aG35E37BbG35E37BaFa80a208a2mCurious.46. 1g88a24aWaTd2a100a300a0t51a2a0aWaBbG7EC85BaTa61a150a1mOdd.46. 1g14a2aWaFd5a100a300a0t56a2a5aWaBbGFF8080aFa80a208a2m.175..92..95.(.12484.).95..47..175. 1g20a20aBaFd4a100a300a1.2t24a2a0aWaBbGFF8000aTa30a255a2mWoah.46. 1g20a17aBaFd13a50a275a1t64a2a8aWaBbG82C0FFaFa30a255a2mSolid.46. 1g19a2aWaFd6a75a188a0.6t82a2a5aWaG88A9FFbG88A9FFaFa80a208a2mCool.46. 1g19a2aG8080C0aFd8a72a188a1t59a2a5aWaGFF95CAbG800040aFa80a208a2mTrippy.46. 1g20a20aWaFd4a84a282a1.3t62a1.5a3aBaGD6D6D6bBaFa148a255a2mNo..dice! 1g23a1aWaFd5a24a236a1t43a2a5aWaBbGFF4045aFa80a255a2mSo..fetch.46. 1g10a8aBaFd16a68a264a1t51a2a2aBaGFF0000bGFF0000aFa80a255a2mStraight..fire.46. 1g24a2aWaTd4a45a145a0t57a2a0aWaBbG3791FDaFa80a208a2mDrippin.39. 1g20a5aGFF4864aTd16a10a236a1t84a2a0aWaBbGFF2445aFa80a208a2mKeep..calm.46. 1g20a5aG0078F0aTd10a20a236a1t84a2a0aWaBbG208FFFaFa80a208a2mCarry..on.46. 1g8a0.6aWaFd7a100a300a1t65a1.5a5aWaBbG6F6F6FaFa148a255a2mBlimey! 1g21a2aWaTd7a100a51a1t65a1.5a7aWaGE800E8bGFF3EFFaFa148a255a2mBabe.46. 1g13a4aGFFFF53aTd7a100a280a0t91a1.5a4aGFFFF53aBbGFF8040aFa148a255a2mAha! 1g20a16aWaFd9a9a285a0.4t98a1.5a0aGFB2F34aWbGFB2F34aFa98a255a2mRad.46. 1g20a1aWaFd5a100a192a0t47a1.5a5aWaGB0FFBEbG4AFF6AaFa98a255a2mGripping.46. 1g20a11aWaTd16a80a192a1.7t55a1.5a6aGFF80FFaWbGFF80C0aFa98a255a2m.8220.Pretty.8221. 1g29a7aG8000FFaTd8a75a136a0t55a1a5aWaG8000FFbG8080FFaFa80a208a2mWhatever.46. 1g88a5aG8000FFaTd4a12a110a0t55a1a5aWaG8000FFbBaFa80a208a2mFar..out.8230. 1g20a2aBaTd16a20a200a0t38a2a3aWaBbG208FFFaTa109a255a1.5mGroovy.46. 1g26a1aBaFd7a76a250a1.4t126a1.8a5aBaWbG81FEB9aFa45a177a1mAs..if.46. 1g14a1aWaFd16a50a250a1.4t90a1.8a5aWaGC5C5E2bGC5C5E2aFa45a177a1mYolo.46. 1g14a1aWaFd16a26a262a1.2t90a1.8a1aWaBbG6FB7FFaFa45a177a1mSwag.46. 1g30a2aGFF7315aFd4a21a300a1t90a1.5a8aGFF7315aWbWaFa148a255a2mSteez.46. 1g45a2aWaFd10a24a90a1t107a2a5aWaBbG74DEBCaFa80a208a2mSame.46. 1g45a1aWaFd4a24a300a0t107a2a0aWaBbG126D6BaFa80a208a2mRight..on! 1g20a3aWaFd4a45a200a0.5t55a1a5aWaG02954FbG03F884aFa80a208a2mTubular.46. 1g10a0.5aGFF0000aFd16a85a200a1.4t55a2a4aBaGFF6666bWaFa80a208a2mCut.46...It.46...Out.46. 1g12a3aWaFd10a30a300a1t80a1.4a2aWaBbGE7DB01aFa80a208a2mOh..snap! 1g12a1aWaFd6a70a218a0t39a1.4a4aWaG956DFEbG956DFEaFa80a208a2mPsyched! 1g18a16aBaFd2a100a300a0t51a2a7aG79063AaBbG79063AaFa61a150a1mA..bit..mad.46. 1g24a1aGD294F8aFd8a24a236a1t48a2a3aGD294F8aGA563F5bWaFa80a208a2mSorry,..not..sorry.46.".split(" ");
this.pastPresets=[];this.defaultSettings="?settings=1g24a1aWaFd8a24a236a1t48a2a2aWaBbGF68CFFaFa80a208a2mAesthetic.46.";this.checkURL()};AestheticUI.prototype.handlePlayPauseButton=function(a){a.target.value="Pause"===a.target.value?"Play":"Pause";grid.playPause()};
AestheticUI.prototype.shrinkExpandWindow=function(a){if("title ad"!==a.target.className&&"title noclose"!==a.target.className){console.log(a.target.className);var b=a.target.children[1].children[0];if("share-window"===a.target.parentElement.id)if(this.stringQuery===this.defaultSettings){var c=window.location.protocol+"//"+window.location.host+window.location.pathname,d=c.replace(":","%3A");document.getElementById("share-link").value=c;document.getElementsByClassName("facebook-icon")[0].parentElement.href=
"http://www.facebook.com/sharer/sharer.php?u="+d+"&title=Check%20My%20Aesthetic.";document.getElementsByClassName("twitter-icon")[0].parentElement.href="http://twitter.com/intent/tweet?status=Check%20My%20Aesthetic.+"+d}else this.generateShareURL();c=a.target.parentElement.children[1];"icon expand"===b.className?(b.className="icon",c.className="window-content"):(b.className="icon expand",c.className="window-content hide");b=a.target.parentElement.parentElement.children;for(d=0;d<b.length;d++)b[d].id!==
a.target.parentElement.id&&"title"===b[d].children[0].className&&(c=b[d].children[0].children[1].children[0],c.className="icon expand",b[d].children[1].className="window-content hide")}};
AestheticUI.prototype.switchTabs=function(a){if(-1!==a.target.id.indexOf("-tab")){a.target.className="active";for(var b=a.target.parentElement.children,c=0;c<b.length;c++)b[c].id!==a.target.id&&(b[c].className="");c=document.getElementById(a.target.id.replace("-tab","-settings"));c.className="content active";b=c.parentElement.children;for(c=0;c<b.length;c++)b[c].id!==a.target.id.replace("-tab","-settings")&&(b[c].className="content")}};
AestheticUI.prototype.changeInput=function(a){var b=this.verifyValues(a.target.value,a.target.type,a.target.name,a.target.min,a.target.max),c;-1!==a.target.name.indexOf("Range")?(c=document.getElementsByName(a.target.name.replace("Range",""))[0],c.value=a.target.value):(c=document.getElementsByName(a.target.name+"Range")[0],"undefined"!==typeof c&&(c.value=a.target.value));c=a.target.getAttribute("data-color");"color"!==a.target.type&&!0!==("true"===c?!0:!1)||"backgroundColor"!==a.target.name||(this.disableEnableProperties(!1,
["hueLowestValue","hueHighestValue","hueSpeed"]),grid.animateBackgroundHue=!1,document.getElementById("animateBackgroundHue").value=!1);if("hueLowestValueRange"===a.target.name||"hueHighestValueRange"===a.target.name)"hueLowestValueRange"===a.target.name?b>parseInt(document.getElementsByName("hueHighestValueRange")[0].value)&&(document.getElementsByName("hueHighestValueRange")[0].value=b,document.getElementsByName("hueHighestValue")[0].value=b,grid.hueHighestValue=b):b<parseInt(document.getElementsByName("hueLowestValueRange")[0].value)&&
(document.getElementsByName("hueLowestValueRange")[0].value=b,document.getElementsByName("hueLowestValue")[0].value=b,grid.hueLowestValue=b);a=a.target.name.replace("Range","");"undefined"!==typeof grid[a]&&(grid[a]=b)};
AestheticUI.prototype.disableEnableProperties=function(a,b){for(var c,d,e=0;e<b.length;e++)c=document.getElementsByName(b[e])[0],"undefined"!==typeof c&&(d=document.getElementsByName(c.name+"Range")[0],!0===a?(c.disabled=!1,"undefined"!==typeof d&&(d.disabled=!1)):(c.disabled=!0,"undefined"!==typeof d&&(d.disabled=!0)))};
AestheticUI.prototype.changeSelect=function(a){if("select-one"===a.target.type){var b=this.verifyValues(a.target.value,a.target.type,a.target.name,a.target.min,a.target.max);"undefined"!==typeof grid[a.target.name]&&(grid[a.target.name]=b);"animateBackgroundHue"===a.target.name&&this.disableEnableProperties(b,["hueLowestValue","hueHighestValue","hueSpeed"])}b=this.generateShareURL();history.pushState({name:a.target.name.replace("Range",""),value:a.target.value,type:a.target.type,min:a.target.min,
max:a.target.max},"",b)};AestheticUI.prototype.checkURL=function(a){a=window.location.href;if(-1!==a.indexOf("?"))a=a.substring(a.indexOf("?"),a.length);else{a=this.defaultSettings;var b=document.getElementById("settings-window");1125<=window.innerWidth?(b.children[1].className="window-content",b.children[0].children[1].children[0].className="icon"):650<=window.innerHeight&&(b.children[1].className="window-content",b.children[0].children[1].children[0].className="icon")}this.stringQuery=a;this.decodeURL()};
AestheticUI.prototype.randomPreset=function(){for(var a=Math.floor(Math.random()*this.presets.length),b=0;b<this.pastPresets.length;b++)a===this.pastPresets[b]&&(a=Math.floor(Math.random()*this.presets.length),b=0);this.stringQuery="?settings="+this.presets[a];this.pastPresets.length>this.presets.length/2&&this.pastPresets.shift();this.pastPresets.push(a);this.decodeURL();history.pushState({},"",this.stringQuery)};
AestheticUI.prototype.handleReset=function(){this.stringQuery=this.defaultSettings;this.decodeURL();history.pushState({},"","app.htm")};
AestheticUI.prototype.verifyValues=function(a,b,c,d,e,f,g){var h=-1;if("number"===b||"range"===b){""===a&&(a=d);a=parseFloat(a);if("undefined"!==typeof d){var k=parseInt(d);a<k&&(a=k)}"undefined"!==typeof e&&(k=parseInt(e),a>k&&(a=k));if("speed"===c||"speedRange"===c)h=a,a=parseInt(e)+parseInt(d)-a;if("resetGridStrength"===c||"resetGridStrengthRange"===c)h=a,a=parseInt(e)+parseInt(d)-a,2===a?a=1.9:0===a&&(a=.1)}"select-one"===b&&("true"===a?a=!0:"boolean"!==typeof a&&(a=!1));"color"!==b&&!0!==f||
0===a.indexOf("#")||(a="#000000");if("undefined"===typeof g)return a;-1===h&&(h=a);return[a,h]};
AestheticUI.prototype.generateShareURL=function(){this.stringQuery="?settings=1";var a=[document.getElementById("gridSize").value,document.getElementById("gridThickness").value,document.getElementById("gridColor").value,document.getElementById("useCirclesInstead").value];a[2]=this.shrinkValues(a[2]);a[3]=this.shrinkValues(a[3]);this.stringQuery+="g";for(var b=0;b<a.length;b++)this.stringQuery+=a[b],this.stringQuery+=b===a.length-1?"":"a";a=[document.getElementById("radius").value,document.getElementById("numberOfPoints").value,
document.getElementById("speed").value,document.getElementById("resetGridStrength").value];this.stringQuery+="d";for(b=0;b<a.length;b++)this.stringQuery+=a[b],this.stringQuery+=b===a.length-1?"":"a";a=[document.getElementById("fontSize").value,document.getElementById("lineHeight").value,document.getElementById("shadowOffset").value,document.getElementById("textColor").value,document.getElementById("shadowColor").value];a[3]=this.shrinkValues(a[3]);a[4]=this.shrinkValues(a[4]);this.stringQuery+="t";
for(b=0;b<a.length;b++)this.stringQuery+=a[b],this.stringQuery+=b===a.length-1?"":"a";a=[document.getElementById("backgroundColor").value,document.getElementById("animateBackgroundHue").value,document.getElementById("hueLowestValue").value,document.getElementById("hueHighestValue").value,document.getElementById("hueSpeed").value];a[0]=this.shrinkValues(a[0]);a[1]=this.shrinkValues(a[1]);this.stringQuery+="b";for(b=0;b<a.length;b++)this.stringQuery+=a[b],this.stringQuery+=b===a.length-1?"":"a";var a=
document.getElementById("text").value,c,b=a.split(".");if(1<b.length){for(a=0;a<b.length-1;a++)0===a&&(c=b[a]),c+="."+".".charCodeAt()+"."+b[a+1];a=c}for(var d,b=0;b<a.length;b++)c=(c=(c=97<=a.charCodeAt(b)&&122>=a.charCodeAt(b))||65<=a.charCodeAt(b)&&90>=a.charCodeAt(b))||48<=a.charCodeAt(b)&&57>=a.charCodeAt(b),d=(d=(d=(d=36<=a.charCodeAt(b)&&38>=a.charCodeAt(b))||40<=a.charCodeAt(b)&&46>=a.charCodeAt(b))||59===a.charCodeAt(b)||61===a.charCodeAt(b))||33===a.charCodeAt(b)||126===a.charCodeAt(b),
c||d||(a=" "!==a.charAt(b)?a.replace(a.charAt(b),"."+a.charCodeAt(b)+"."):a.replace(a.charAt(b),".."));this.stringQuery+="m"+a;b=window.location.protocol+"//"+window.location.host+window.location.pathname+this.stringQuery;c=b.replace(":","%3A");document.getElementById("share-link").value=b;document.getElementsByClassName("facebook-icon")[0].parentElement.href="http://www.facebook.com/sharer/sharer.php?u="+c+"&title=Check%20My%20Aesthetic.";document.getElementsByClassName("twitter-icon")[0].parentElement.href=
"http://twitter.com/intent/tweet?status=Check%20My%20Aesthetic.+"+c;return this.stringQuery};AestheticUI.prototype.shrinkValues=function(a){-1!==a.indexOf("#")&&(a=a.replace("#","G").toUpperCase(),a="GFFFFFF"===a?"W":a,a="G000000"===a?"B":a);if("true"===a||"false"===a)a="true"===a?"T":"F";return a};
AestheticUI.prototype.expandValues=function(a,b,c){if("color"===b||!0===c)a=a.replace("G","#").toLowerCase(),a="w"===a?"#ffffff":a,a="b"===a?"#000000":a;if("T"===a||"F"===a)a="T"===a?!0:!1;"number"===b&&(a=parseFloat(a));return a};
AestheticUI.prototype.decodeURL=function(){for(var a=this.stringQuery,b,c="",d=[],e=[],f,g=10;g<a.length;g++){10===g&&a.charAt(g);b="a"===a.charAt(g)||"m"===a.charAt(g);if(97<=a.charCodeAt(g)&&122>=a.charCodeAt(g)&&!1===b){b=a.charAt(g);for(g++;97>a.charCodeAt(g)||122<a.charCodeAt(g)||"a"===a.charAt(g);)"a"!==a.charAt(g)?c+=a.charAt(g):(d.push(c),c=""),g++;d.push(c);c="";e.push([b,d]);d=[];g--}if("m"===a.charAt(g)){b=a.charAt(g);g++;f=a.substring(g,a.length);for(var h,k,g=0;g<f.length;g++)if("."===
f.charAt(g)){k=g;k++;for(h="";"."!==f.charAt(k);)h+=f.charAt(k),k++;f=""===h?f.replace(".."," "):"46"===h?f.replace("."+h+".","+period+"):f.replace("."+h+".",String.fromCharCode(h))}f=f.split("+period+").join(".");e.push([b,[f]]);g=a.length}}c=!1;-1===a.indexOf("?settings=1")&&(c=!0);5!==e.length&&(c=!0);!1===c?this.addProperties(e):(this.stringQuery=this.defaultSettings,this.decodeURL())};
AestheticUI.prototype.addProperties=function(a){for(var b,c,d=0;d<a.length;d++)for(var e=0;e<this.listOfProperties.length;e++)if(this.listOfProperties[e][0]===a[d][0])for(var f=0;f<this.listOfProperties[e][1].length;f++)c=this.listOfProperties[e][1][f].getAttribute("data-color"),c="true"===c?!0:!1,b=this.expandValues(a[d][1][f],this.listOfProperties[e][1][f].type,c),b=this.verifyValues(b,this.listOfProperties[e][1][f].type,this.listOfProperties[e][1][f].name,this.listOfProperties[e][1][f].min,this.listOfProperties[e][1][f].max,
c,!0),this.listOfProperties[e][1][f].value=b[1],c=document.getElementsByName(this.listOfProperties[e][1][f].id+"Range")[0],"undefined"!==typeof c&&(c.value=b[1]),"animateBackgroundHue"===this.listOfProperties[e][1][f].name&&this.disableEnableProperties(b[1],["hueLowestValue","hueHighestValue","hueSpeed"]),"undefined"!==typeof grid[this.listOfProperties[e][1][f].id]&&(grid[this.listOfProperties[e][1][f].id]=b[0])};
